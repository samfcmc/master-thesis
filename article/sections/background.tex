%!TEX root = ../article.tex

% A new section
\section{Background}
\label{sec:background}
% Context-aware applications
% proximity-based apps
% Technologies
Before describing the solution, we need to get a good insight about concepts, such as, context-aware applications, technologies available and related work.
We built a framework to develop proximity-based applications.
However, we need to define the concept of proximity-based application.
These are a particular kind of context-aware applications.
An application is context-aware when it takes into account the context, such as, location, device's orientation, temperature, etc.
Based on this definition, proximity-based applications are context-aware applications that take into account the user's location.
They engage the user while they are on proximity of a given point of interest, which we will call a Tag.
Someone installs tags in a given space.
Then, users can interact with those tags when they are nearby them.

\subsection{Location}
\label{sec:background_location}
% Techniques
% Physical vs symbolic
% Absolute vs Relative
% Computed
% Scale
% Recognition
% Cost
% Limitations
In order to understand what a Smart Place is, we need to have a good insight about concepts related to location.
We have used a taxonomy\cite{location} to classify some properties about location.
These properties will allow us to have a better understanding about the concept of a Smart Place and the location technologies that can be used.
It is possible to classify location systems in terms of techniques, physical position or symbolic location, absoulute or relative position, location computation, scale, recognition, cost and limitations.

There are three main techniques to compute the object's location, Triangulation, Proximity and Scene Analysis.
Triangulation can be done via lateration, which uses distance measurements between two well known points and angulation, which uses measurements of angules relative to known points.
Proximity measures how close the object is to a known point.
In Scene Analysis we examine a view from a given point.

There is physical and symbolic location.
Physical location is a set of coordinates that, identifies, unequivocally, a place where the object is.
Using Symbolic location is not to identify where the object is. For instance, we could say that an object is in the kitchen or in the office but not in a given street and city.

There are two ways of computing an objects' location
The object being located might have means to compute its own location or it can delegate that computation to an external infrastructure

\subsection{Smart Places}
\label{sec:background_smart_places}
% Popularity of proximity-based...
% Based on proximity-based
% Explain owners and users
% Figure
% Owner puts tags...
% Relate with location characteristics
As already mentioned, proximity-based applications engage users while they are on proximity of some point of interest.
Our solution is based on the concept of Smart Place.
A Smart Place is some place, with tags, which users can interact with, using a mobile device, such as, a smartphone.
Place's owner installs tags and those tags offer some service to the users when they are nearby.
For instance, a store owner could use these tags to advertise some promotion when the customers are nearby the store.
However, Smart Places are not just about stores.
This concept can be used to any kind of service that requires the users to be nearby tags.
For instance, it is possible to build a Smart Restaurant, where tags have the information about the table's number and the customers are allowed to call a waiter without requiring to type the table's number.

Multiple kinds of people are involved in Smart Places.
There are owners, developers and end users.
Owners are responsible for managing and installing tags in their places, where they want to offer a proximity-based service.
Also, developers are needed to develop these services, for instance, the Smart Restaurant or the store promotions.
Finally, the end users that interact with tags, that are installed in Smart Places, using their mobile devices.

In terms of classification, since Smart Places are about proximity, it is reasonable to pick proximity as the technique and symbolic location as the type of location.
These are the main characteristics we need to take into consideration in order to choose one technology to support this concept.

\subsection{Location Technologies}
\label{sec:background_technologies}
% Possible technologies
% GPS
% QR Codes
% NFC
% Google maps indoor
% BLE
As previously mentioned, a Smart Place has tags and the users can interact with them using their mobile devices.
Somehow, the mobile device needs to be able to detect the presence of these tags.
Multiple technologies can be used.
Some of them require the user interaction.
Others require the devices to be equipped with extra hardware.
We can consider the following technologies:
\begin{description}
  \item[\glsfirst{GPS}]
  is a location system that uses 24 sattelites plus three backups.
  Receivers send signals and sattelites answer back. Measurements are taken from this signals in order to receivers be able to calculate their own location.
  \item[\glsfirst{QR} Codes]
  is a type of two dimensional barcode.
  The user just needs an app that reads these codes.
  Whenever the user sees one of these codes, he/she opens the \gls{QR} code reader app, scan the code and see the content provided by it.
  \item[\glsfirst{NFC}]
  is a short distance radio communication technology.
  The two devices communicating need to be of 10 cm or less distant from each other.
  \item[Google Maps Indoor]
  allows the user to navigate inside a building using Google Maps.
  \item[\glsfirst{BLE}]
  is a short range wireless communication technology, developed by Bluetooth \gls{SIG}\footnote{http://www.bluetooth.org}.
  Unlike classic Bluetooth, it is focused on low power consumption.
  It is a feature of Bluetooth 4.0\cite{bluetooth_specification}
\end{description}

Table~\ref{tab:technologies} summarizes the characteristics of each location technologie, based on the taxonomy introduced in Section \ref{sec:background_location}.
Some technologies are tag based, such as \gls{QR} Codes, \gls{NFC} and \gls{BLE} that can be used to provide symbolic location.
Others, such as \gls{GPS} and Google Maps Indoor, are used to provide physical location but can be augmented to provide symbolic location.
However, \gls{GPS} does not work properly indoors and Google Maps Indoor requires that buildings are mapped first by a team from \tm{Google}.
Each technology was classified in terms of techniques, type of location (physical or symbolic), computation, scale, recognition of individual receivers, costs and limitations.

\input{tables/technologies}

\gls{GPS} and Google Maps Indoor do not require extra hardware. However, they were created to provide physical location and not symbolic as it is needed for the concept of Smart Place.
\gls{GPS} does not work properly indoors and not all buildings are mapped in Google Maps Indoor.
\gls{QR} codes can be used for symbolic location. They do not need extra hardware and there tools to generate these codes\footnote{http://goqr.me}.
However, they require the user interaction. He/she needs to be aware of the existence of these codes and use his/her mobile device to scan the code and get access to the content it provides.

The final decision was to pick \gls{BLE} using the iBeacon\footnote{http://developer.apple.com/ibeacon} protocol, which was developed by \tm{Apple}, because it has the best tradeoff between cost and kind of location it provides. Using this technology we have symbolic location. With the adequated infrastructure it is possible to associate any kind of information to each tag.
It requires extra hardware but this is the responsability of who manages the place where the tags will be deployed.
The user does not anything else but a mobile device with Bluetooth, version 4.0, or later.
We have used three beacons, from \tm{Estimote}, in the implementation of our solution.

\subsection{Related Work}
\label{sec:background_related_work}
% Related work...
Here we discuss some related work in order to have a good insight, about the possibilities and existing solutions, for the problem we are trying to solve.
First, we take a look at some examples of proximity-based apps, in order to see what can be done when the user is in proximity of a given point of interest.
Since we tried to create a solution that provides an easy way of creating proximity-based services, there is a need to look at the state of the art of existing solutions of frameworks to develop context-aware applications. As already mentioned, proximity-based applications are a particular category of context-aware applications that take into account the user's location.

\gls{BLE} Beacons were
used to develop our solution, based on the concept of Smart Places.

We present some
applications, where this technology is used, to
get good insights about the potential use cases of this
technology and the apps developed using it:
\begin{description}
  \item[BlueSentinel\cite{Conte2014}]
  This is a
  occupancy detection system, for smart buildings,
  that uses \gls{BLE} Beacons to detect the presence of
  people. The concept of a smart building
  is similar to Smart Place,
  due to the existence of sensors and actuators.
  It is focused on the power efficiency of the
  building. The idea is to optimize energy
  consumption according to people's presence.
  For instance, if there are no people in a given room,
  the heating system can be turned off.
  \item[ContextCapture\cite{Antila2011}]
  In this work, the authors try to use
  context-based information to allow users to
  add more information to their status updates
  in the main social networks, such as
  Facebook\footnote{http://www.facebook.com} and
  Twitter\footnote{http://twitter.com}.
  The authors implemented a mobile app and a
  server integrated with Facebook and Twitter.
  Context information comes from the smartphone itself,
  from its sensors and from the nearby devices through
  Bluetooth.
  Devices can be other smartphones or \gls{BLE} Beacons, which
  are used for indoor location.
\end{description}

Since we have created a framework to develop
proximity-based services, the state
of the art of existing frameworks, that deliver
context information to the apps will be presented:
\begin{description}
  \item[Frameworks for developing distributed
  location-based applications]
  There are frameworks to develop location-based
  applications.
  In the work presented in Krevl et al.\cite{Krevl2006},
  a framework
  was developed to allow developers to build
  location-based apps. Location information can come
  from any source, such as \gls{GPS} receivers, Bluetooth
  receivers and \gls{WiFi} receivers.
  The authors discuss some benefits and limitations
  of several technologies for getting the
  user's positioning.
  The mobile device get geographical coordinates
  from any source and send that data, in a
  \gls{SOAP}\cite{Seely:2001:SCP:560836} message,
  to the appropriate web service in the Application
  Server. This server, communicates with the Database Server
  to query the database, which sends back a response with
  location information, if there is any, for that
  particular group of geographical coordinates.
  The authors did not evaluate the system.
  This solution offers abstractions for the location
  information sources. Geographical coordinates can
  come from any source.
  The authors do not take into consideration
  constraints in terms of resources, such as
  lack of Internet connection and battery.
  Since most users have limited data plans for
  their smartphones and \gls{SOAP} messages can
  grow, in size, due to its \gls{XML} format,
  a more efficient message encoding could be used
  instead.
  \item[Dynamix\cite{Carlson2012}]
  is a framework to develop
  mobile native and web apps that allow them to receive
  context information, for instance, position and device's
  orientation. This framework has plugins that get
  one or more sensor's raw data and turn that into event
  objects, that contain more high-level information.
  This framework supports many kinds of context information
  and it is possible to develop more plugins to allow the
  apps to generate additional events that are not
  already supported.

  To achieve our goal, our framework could be just a
  plugin for Dynamix. The plugin would
  need to get the beacon's raw data and
  turn that into a more high-level information
  using a backend. In this framework,
  the user needs to install an app, that manages the service
  that runs in background, and needs to define some
  security policies. This could mean a big overhead since
  we are more focused on developing proximity-based applications, that do not require such complex security
  policies because, in this kind of applications, there is only need
  to access the device's sensors that could provide,
  to the applications, positioning data.
\end{description}
